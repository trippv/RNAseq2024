---
title: "R y Rstudio: Comandos Basicos"
author: "Miguel Tripp"
---

## Introducci칩n

![](https://www.askideas.com/media/31/Dont-Panic-And-Carry-A-Towel-Picture.jpg)

R es un lenguaje de programaci칩n y un entorno de software libre dedicado principalmente al an치lisis estad칤stico y la visualizaci칩n de datos. Desarrollado inicialmente por los laboratorios de AT&T a p치rtir de otro lenguaje de programaci칩n.

Entre las caracteristicas que han hecho de R un lenguaje muy popular entre la comunidad cient칤fica y academica (ademas de que es gratuito 游땔 ) es su capacidad para manejar y analizar grandes conjuntos de datos, junto con una vasta colecci칩n de paquetes desarrollados por la comunidad, lo hace altamente vers치til y poderoso.

Adem치s, R se destaca por su capacidad para crear gr치ficos de alta calidad y visualizaciones interactivas, lo que facilita la interpretaci칩n y comunicaci칩n de resultados complejos. La facilidad de integraci칩n con otros lenguajes y sistemas, as칤 como su fuerte enfoque en la reproducibilidad de la investigaci칩n, han cimentado su lugar como una herramienta indispensable para cient칤ficos, estad칤sticos y analistas de datos en todo el mundo.

쯄encion칠 que R es gratuito?

------------------------------------------------------------------------

## Generalidades

En este primer cap칤tulo vamos a revisar algunas funcionalidades b치sicas de R tales como crear objetos y vectores asi como revisar los diferentes tipos de estructuras de datos.

Antes de empezar, es importante mencionar algunas aspectos:

-   R es sensible a las may칰sculas y min칰sculas, de manera que `A` es diferente que `a` de la misma forma que la funci칩n `anova()` es diferente a la funci칩n `Anova()`

-   El s칤mbolo `#` sirve para insertar un comentario en la l칤nea de comando, de manera que todo lo que siga despu칠s de `#` no se ejecutara. Es importante incluir comentarios como parte de las buenas practicas en el uso de R ya que le facilitar치 el trabajo a tus colaboradores y revisores saber que estas haciendo en casa paso y te salvar치 la vida cuando intentes correr tu script cinco a침os despu칠s de haberlo escrito

-   En la consola usualmente veremos el s칤mbolo `>` lo que la indica que la consola esta lista para recibir nuevas instrucciones. Si por el contrario vemos el s칤mbolo `+` entonces nos esta indicando que no hemos terminado de completar correctamente una l칤nea de c칩digo.

-   Si desp칰es de ejecutar un comando la consola nos arroja un mensaje de advertencia `WARNING` significa que el comando se ejecut칩 pero hay algo inesperado que debe revisarse. Por el contrario si nos arroja un mensaje de error `ERROR` entonces hay algo mal en la l칤nea de codigo y por lo tanto no se pudo ejecutar.

## Uso de la l칤nea de comando como calculadora

Podemos utilizar R para realizar operaciones b치sicas:

```{r basicas, echo=TRUE, include=TRUE}
1 + 2 #suma

4 - 3 #resta

5 * 5 #multiplicaci칩n

4 / 2 #divisi칩n

4 ^ 2 #Exponente

4 ** 2 #Exponente
```

::: callout-warning
# **!! 쯣or qu칠 hay un \[1\] en cada resultado?**

El resultado es un vector, aunque solo consista en un elemento. Por lo tanto, R indica que este el primer \[1\] elemento de un vector
:::

Operadores en R:

| Operador |    significado    |
|:--------:|:-----------------:|
|    \*    |  Multiplicaci칩n   |
|    \-    |       Resta       |
|    \+    |       Suma        |
|    \^    | Elevar a potencia |
|    /     |     Divisi칩n      |
|    \<    |     Menor que     |
|    \>    |     Mayor que     |
|   \<=    | Menor o igual que |
|   \>=    | Mayor o igual que |
|    ==    | Exactamente igual |
|    !=    |     Distinto      |

## Uso de objetos

Para crear un nuevo objeto se puede usar "=" o "\<-". Este nuevo objeto, se almacenar치 en la memoria y se puede usar para otras operaciones.

```{r variable, echo=TRUE,warning=FALSE, results=FALSE}

x <- 2 #asignar a la variable x el valor de 2
x

y = 3 #asignar a la variable y el valor de 3
y

#resultado de la suma x + y
x + y

z <- x + y#asiganr el resultado de x + y  a la variable z
z

#uso de c() para incluir mas de un elemento

numeros <- c(1,2,3,4,5)
numeros

variables <- c(x,y,z)
variables

variables_mas <- variables + 1
variables_mas

variables_expo <- variables ^2

2 ^ variables -> expo_variables 

variables_numero <- variables * numeros

#쯤ue pasara aqui?
```

Las variables no solo puede contener n칰meros, sino caracteres, listas o incluso graficas

```{r more variables, echo=TRUE}
caracter <- "siete"
caracter

mix <- c(1,2,"tres")
mix

```

::: callout-tip
# Ejercicio:

1.  쯖ual serial el resultado de multiplicar la variable *mix* \* 3?

2.  쮺uales de estas formas de definir una variables es incorrecta?

-   `mi.variable <-`

-   `mi_variable <-`

-   `mi variable <-`

-   `mi-variable <-`
:::

## Tipos y estructura de datos (Classes)

R tiene los siguientes tipos de datos basicos:

-   `logical:` valores l칩gicos, pueden ser *TRUE* o *FALSE*
-   `numeric:` n칰meros reales *(1.0,2,3.1416, 3E-10)*
-   `character:`caracteres (letras y/o n칰meros). Delimitados por "" *("uno", "Miguel", "FALSO")*
-   `interger:`valores enteros *(1,2,3)*
-   `NA:` dato no disponible
-   `NaN:`no es un n칰mero (not a number)

Por otro lado, las estructuras de datos pueden ser de tipo vector, data.frame, matriz, arreglo o lista:

<img src="http://venus.ifca.unican.es/Rintro/_images/dataStructuresNew.png"/>

fuente: <http://venus.ifca.unican.es/Rintro/_images/dataStructuresNew.png>

Es importante resaltar que solamente los data.frame pueden contener distintos tipos de datos (n칰meros, caracteres, etc) mientras que el resto solo puede contener un tipo de dato (solo car치cteres, solo n칰meros, etc).

------------------------------------------------------------------------

Si no sabes que tipo de dato contiene una variable, se puede sar la funci칩n `class()`

```{r uso class, echo=TRUE, include=TRUE}

class(numeros)      

class(caracter)     

class(numeros)

class(mix)


```

::: callout-note
# 쮽unciones? 游뱂


R utiliza **funciones** para realizar operaciones, por ejemplo `class()`. Para utilizar una funci칩n deben especificarse determiandos *argumentos*, los cuales se escriben dentro del parentesis.


Una ventaja de utilizar Rstudio, es que al abrir una funci칩n, automaticamente te desplegar치 las opciones de argumentos. Por ejemplo, escribe en la terminal `round()`. Tras completarse la funci칩n, te desplegara la informaci칩n `round(x, digits = 0)` donde x es el objecto (n칰mero o vector) y digits es el n칰mero de decimales.


:::



## Trabajando con vectores

**Ejercicio:**

Supon que tienes un cultivo de abulones y tienes que revisarlo todos los dias y contar los organismos muertos. Despues de una semana tienes el siguiente resultado:

-   lunes: 4
-   martes: 6
-   miercoles: 0
-   jueves: 10
-   viernes: 12
-   sabado: 8
-   domingo: 4

1: crea un vector con los valores diarios 2: nombre cada valor con el dia de la semana usando la funcion `names()`

```{r ejercicio 1, echo= TRUE}

mortalidad <- c(4,6,0,10,12,8,4)
mortalidad


names(mortalidad) <-  c("Lunes", "Martes", "Miercoles", "Jueves", "Viernes", "Sabado", "Domingo")

mortalidad
#nombrar la mortalidad con la funcion names


```

Operaciones basicas con vectores

| Funci칩n  | significado                  |
|----------|------------------------------|
| min()    | Minimo                       |
| max()    | M치ximo                       |
| length() | longitud                     |
| range()  | intervalo de valores         |
| sort()   | Ordena de menor a mayor      |
| unique() | Valores unicos               |
| mean()   | Promedio                     |
| sum()    | suma                         |
| which()  | proporciona los indices TRUE |

**Ejercicio:** Contesta lo siguiente:

-   쯖ual fue el valor minimo y el maximo?
-   쯖uantos abulones murieron esa semana?

# Indices

Una tarea com칰n al trabajar con vectores de datos es el de aislar uno o varios valores que cumplen con alg칰n criterio.

Mostrar el primer valor del vector

```{r indices, echo = TRUE}
mortalidad[1]

```

Mostrar todos los valores *excepto* el segundo

```{r all but, echo=TRUE}

mortalidad[-2]

```

Se puede obtener multiples series de elementos al mismo tiempo usando `c()`

```{r}
mortalidad[c(1,2:4)]
```

o si por el contrario queremos eliminar estos elementos se usa `c(-)`

```{r}
mortalidad[-c(1,2:4)]
```

Obtener los dias en donde la mortalidad fue mayor a 5

```{r indices 2, echo=TRUE}
mortalidad > 5

#Mostrar solo los dias donde la mortalidad fue > 5
mortalidad[mortalidad > 5]

#Mediante una variable
mor_5 <- mortalidad > 5 
mortalidad[mor_5]

```

**Ejercicio**

Identificar:

-   쮼n que dia se observ칩 la menor mortalidad?
-   쯈ue dias tuvieron una mortalidad igual a 12?
-   쯈ue dias tuvieron una mortalidad menor al promedio?

# Enlistar y borrar objectos

Las funciones `ls()`y `objects()`hacen lo mismo: enlistan los objetos que hemos definido en la sesi칩n.

```{r}
ls()
```

Y si queremos borrar objectos, se usa la funcion `rm()` Si queremos borrrar todos los objectos del ambiente, se ejecuta `rm(list=ls())`.

# Trabajando con tablas

Ahora supongamos que tienes que revisar tus estanques por otra semana. Sin embargo, el jueves de la tercera semana no pudiste ir, por lo que no tienes valores para ese dia. Estos son los resultados.

-   lunes: 16
-   martes: 12
-   mi칠rcoles: 8
-   jueves: no hay dato
-   viernes: 14
-   s치bado: 4
-   domingo: 10

**Ejercicio:** Construye un vector para la semana 2 con el nombre `semana2`.

De que forma podr칤amos nombrar cada d칤a de la semana en `semana2`?

```{r tabla ejercicio, echo=FALSE}
#para nombrar los dias de la semana:

semana2 <- c(16, 12, 8, NA, 14, 4, 10)

names(semana2) <- names(mortalidad)



```

# Crear una tabla con `data.frame`

```{r data frame, echo=TRUE}


dia_sem <- c("Lunes", "Martes", "Miercoles", "Jueves", "Viernes", "Sabado", "Domingo")


# Indicamos row.names= NULL para que no se incluyan los nombres del vector como row.names

tabla <- data.frame(dia = dia_sem, semana1 = mortalidad, semana2 = semana2, row.names = NULL)
tabla 


# Alternativamente, ejecutamos row.names = dia_sem para indicar los d칤as de la semana como row.names
tabla <- data.frame(row.names = dia_sem, semana1 = mortalidad, semana2 = semana2)

tabla


```

**쯈ue tipo de dato es el objecto `tabla`?**

> **Ejercicio:** Para cada semana, busca el valor m칤nimo, m치ximo y promedio. Con estos valores crea un vector para cada semana y nombralos `Semana1_sum` y `Semana2_sum`.

Para esto es posible seguir dos aproximaciones:

-   usando indices: `tabla[filas , columnas]`
-   con el operado `$`: `tabla$columna`

por ejemplo:

```{r operaciones con tablas, echo=TRUE}
max(tabla$semana1)

min(tabla[,1])

mean(tabla$semana2, na.rm = TRUE)

```

# Estructura de una tabla

```{r table estructure, echo=TRUE}
#muestra las primeras n filas de la tabla
head(tabla)

#muestra el numero de filas
nrow(tabla)

#muestra el numero de columnas
ncol(tabla)

#muestra el nombre de las columnas
colnames(tabla)

#muestra el nombre de las filsa
rownames(tabla)
```

otras operaciones utiles para data.frames:

`colSums ()`

`rowSums ()`

`colMeans()`

`rowMeans()`

**Ejercicio:** En el objetvo `tabla`, crea una columan con el promedio de organismos muertos por dia

**Ejercicio:** Te diste cuenta que esta nueva columna no te sirve. 쯖omo la eliminas?

*pista*: Puedes usar indices o `NULL`

![](https://i.pinimg.com/564x/c8/9a/21/c89a214708211c988c0cca2bb46798b3.jpg)
